= Отчет по лабораторной работе 2
Студентов группы ПИМ-21 Бубенцова С.А. Носкова И.А.
:figure-caption: Рисунок
:listing-caption: Листинг
:source-highlighter: coderay

== 1 Постановка задачи
В процессе выполнения лабораторной работы необходимо выполнить следующие задачи:

. Сделать проект с помощью maven. Добавить в проект зависимость и продемонстрировать ее работу.
. Добавить jar библиотеку в локальный репозиторий maven. Подключить ее как зависимость и продемонстрировать работу.
. Сделать родительский проект и два дочерних с помощью maven. Один дочерний зависим от другого.

== 2 Разработка

=== 2.1 Структура проекта

.Структура проекта первого задания

image::C:\Users\buben\Desktop\2\image\maven11.jpg[]

.Структура проекта создания jar в локальном репозитории

image::C:\Users\buben\Desktop\2\image\maven22.jpg[]

.Структура проекта второго задания

image::C:\Users\buben\Desktop\2\image\maven22loc.jpg[]


.Структура проекта третьего задания

image::C:\Users\buben\Desktop\2\image\maven33.jpg[]

=== 2.2 Задание 1
При создании проекта была проведена идентификация.

.Идентификация пакета
[source, xml]
----
  <groupId>org.example</groupId>
  <artifactId>lab2_1</artifactId>
  <version>1.0-SNAPSHOT</version>
----

Далее в проект добавлены класс App и зависимости: JUnit (библиотека для модульного тестирования) и joda-time (библиотека для работы с датой и временем).

.Листинг класса App
[source, java]
----
package org.example;

import org.joda.time.LocalDateTime;

public class App
{
    public static void main( String[] args )
    {
        LocalDateTime now = new LocalDateTime();
        System.out.println( "Current time: " + now);
    }
}
----
Для демонстрации работы библиотеки JUnit, был добавлен модульный тест AppTest.

.Листинг класса AppTest
[source, java]
----
package org.example;

import static org.junit.Assert.assertTrue;

import org.junit.Test;

/**
 * Unit test for simple App.
 */
public class AppTest 
{
    @Test
    public void shouldAnswerWithTrue()
    {
        assertTrue( true );
    }
}
----

Для добавления зависимостей в файл pom добавлена секция dependencies.

.Секция dependencies
[source, xml]
----
  <dependencies>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.11</version>
      <scope>test</scope>
    </dependency>

    <dependency>
      <groupId>joda-time</groupId>
      <artifactId>joda-time</artifactId>
      <version>2.10.13</version>
    </dependency>
  </dependencies>
----

=== 2.3 Задание 2
В локальном репозитории создана jar библиотека с классом Strings.

.Локальный репозиторий
image::C:\Users\buben\Desktop\2\image\locrep1.jpg[]

.Листинг Strings
[source, java]
----
package ru.rsatu.libs;

public class Strings {

    public static String str = "lib1";

}
----

Далее создан проект с классом App. 

.Листинг класса App
[source, java]
----
package org.example;

import ru.rsatu.libs.Strings;

public class App 
{
    public static void main( String[] args )
    {
        System.out.println("Библиотека Strings: " + Strings.str);
    }
}
----

К проекту в секции dependencies была подключена зависимость из локального репозитория.

.Секция dependencies
[source, xml]
----
  <dependencies>
    <dependency>
      <groupId>ru.rsatu.libs</groupId>
      <artifactId>libStr</artifactId>
      <version>1.0-SNAPSHOT</version>
    </dependency>
  </dependencies>
----
=== 2.4 Задание 3
Был создан родительский проект.
Далее создан первый дочерний проект, к которому подключена зависимость joda-time.
Потом создан второй дочерний проект, в котором используется joda-time.

В pom родительского проекта добавлена секция modules для подключения первого дочернего проекта.

.Секция modules родительского проекта
[source, xml]
----
  <modules>
    <module>subProject1</module>
  </modules>
----

В первый дочерний проект добавлены modules и parent.  

.Modules и parent lab2_3
[source, xml]
----
    <parent>
        <artifactId>lab2_3</artifactId>
        <groupId>org.example</groupId>
        <version>1.0-SNAPSHOT</version>
    </parent>

    <artifactId>subProject1</artifactId>
    <version>1.0-SNAPSHOT</version>

    <modules>
        <module>subProject3</module>
    </modules>
----

Ко второму дочернему проекту добавлена секция parent.

.Секция parent
[source, xml]
----
    <parent>
        <groupId>org.example</groupId>
        <artifactId>subProject1</artifactId>
        <version>1.0-SNAPSHOT</version>
    </parent>
----
.Листинг subProject3
[source, java]
----
import org.joda.time.LocalDateTime;

public class SubProject3 {
    public static void main( String[] args )
    {
        LocalDateTime time = new LocalDateTime();
        System.out.println("Проверка работы библиотеки joda-time из родительского проекта");
        System.out.println(time);
    }
}

----

== 3 Результат разработки

В результате выполнения первого задания с помощью joda-time выведены текущие дата и время, также был запущен простой тест для демострации работы подключенной библиотеки JUnit.

.Результат выполнения первого задания (Вывод даты и времени)
image::C:\Users\buben\Desktop\2\image\mavres11.jpg[]
.Результат выполнения первого задания (Результат выполнения теста)
image::C:\Users\buben\Desktop\2\image\mavres111.jpg[]

В результате выполнения второго задания было получено содержимое библиотеки, созданной в локальном репозитории.  

.Результат выполнения второго задания
image::C:\Users\buben\Desktop\2\image\mavres22.jpg[]

В результате выполнения третьего задания с помощью joda-time (добавленного к первому дочернему проекту) во втором дочернем выведены дата и время.

.Результат выполнения третьего задания
image::C:\Users\buben\Desktop\2\image\mavres33.jpg[]

== Вывод
В результате выполнения лабораторной работы мы познакомились с maven. Научились создавать проект с помощью maven, подключать локальные и внешние зависимости, а также создавать зависимости между родительским и дочерними проектами.

// asciidoctor-pdf lab2.adoc

